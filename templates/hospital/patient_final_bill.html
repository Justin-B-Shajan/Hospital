{% extends 'hospital/admin_base.html' %}
{% load static %}
{% block content %}

<style>
    body {
        font-family: 'Roboto', sans-serif;
    }

    .invoice-box {
        max-width: 900px;
        margin: 50px auto;
        padding: 30px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        background: #fff;
    }

    .invoice-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .invoice-header h1 {
        font-size: 32px;
        color: #0072ff;
        font-weight: bold;
    }

    .invoice-header p {
        font-size: 14px;
        color: #555;
    }

    .section-title {
        background: #0072ff;
        color: white;
        padding: 8px 12px;
        border-radius: 4px;
        font-weight: bold;
        margin-top: 20px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }

    table td, table th {
        padding: 10px;
        border-bottom: 1px solid #eee;
    }

    table th {
        background: #f5f5f5;
        text-align: left;
    }

    .total-row td {
        font-weight: bold;
        font-size: 16px;
    }

    .download-btn {
        display: inline-block;
        background: linear-gradient(45deg, #ff416c, #ff4b2b);
        color: white;
        padding: 12px 25px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 6px;
        text-decoration: none;
        transition: background 0.3s ease;
        margin-top: 20px;
    }

    .download-btn:hover {
        background: linear-gradient(45deg, #ff4b2b, #ff416c);
    }

    @media only screen and (max-width: 768px) {
        .invoice-box {
            padding: 20px;
        }

        .section-title {
            font-size: 14px;
        }
    }
</style>

<div class="invoice-box">
    <div class="invoice-header">
        <h1>Hospital Management Invoice</h1>
        <p>Admit Date: {{admitDate}} | Release Date: {{todayDate}} | Days Spent: {{day}}</p>
    </div>

    <!-- Patient Info -->
    <div class="section-title">Patient Information</div>
    <table>
        <tr>
            <td><strong>Name:</strong> {{name}}</td>
            <td><strong>Doctor:</strong> {{assignedDoctorName}}</td>
        </tr>
        <tr>
            <td><strong>Mobile:</strong> {{mobile}}</td>
            <td><strong>Address:</strong> {{address}}</td>
        </tr>
    </table>

    <!-- Symptoms -->
    <div class="section-title">Disease & Symptoms</div>
    <table>
        <tr>
            <td colspan="2">{{symptoms}}</td>
        </tr>
    </table>

    <!-- Charges -->
    <div class="section-title">Charges</div>
    <table>
        <tr>
            <th>Item</th>
            <th>Price (â‚¹)</th>
        </tr>
        <tr>
            <td>Room Charge for {{day}} Days</td>
            <td>{{roomCharge}}</td>
        </tr>
        <tr>
            <td>Doctor Fee</td>
            <td>{{doctorFee}}</td>
        </tr>
        <tr>
            <td>Medicine Cost</td>
            <td>{{medicineCost}}</td>
        </tr>
        <tr>
            <td>Other Charges</td>
            <td>{{OtherCharge}}</td>
        </tr>
        <tr class="total-row">
            <td>Total</td>
            <td>{{total}}</td>
        </tr>
    </table>

    <!-- Insurance -->
    {% if insurance %}
    <div class="section-title">Insurance Details</div>
    <table>
        <tr><td><strong>Provider:</strong></td><td>{{insurance.provider}}</td></tr>
        <tr><td><strong>Policy Number:</strong></td><td>{{insurance.policy_number}}</td></tr>
        <tr><td><strong>Coverage Type:</strong></td><td>{{insurance.coverage_type}}</td></tr>
        <tr><td><strong>Expiry Date:</strong></td><td>{{insurance.expiry_date}}</td></tr>
        <tr class="total-row"><td>Insured Amount</td><td>{{insured_amount}}</td></tr>
        <tr class="total-row"><td>Out of Pocket</td><td>{{out_of_pocket}}</td></tr>
    </table>
    {% endif %}

    <center>
        <a class="download-btn" href="{% url 'download-pdf' patientId %}">Download Invoice PDF</a>
    </center>
</div>

{% endblock content %}
